.. role:: deprecated(literal)
    :class: strike

.. raw:: html

    <style>.strike { text-decoration: line-through; }</style>

.. seealso::
    Bekijk ook de :ref:`algemene uitleg <rest_api_generic>` voor REST API's voor het gebruik van de parameters.

{{ main_title|underline("=") }}

{{ schema.description or '' }}

* **ID:** {{ schema_name }}{% if schema_auth %} (autorisatie: {{ schema_auth|sort|join(', ') }}){% endif %}
* **Versie:** {{ schema.version }}
* **Endpoints:**

 * Swagger UI: `{{ swagger_url|strip_base_url }} <{{ swagger_url }}>`_
 {%- for table in tables %}
 * REST URI{% if table.auth %} (autorisatie: {{ table.auth|sort|join(', ') }}){% endif %}: `{{ table.uri|strip_base_url }} <{{ table.uri }}>`_
  {%- endfor %}

.. contents:: Tabellen
      :local:
      :depth: 1

{% for table in tables %}
----

.. _{{ table.doc_id }}:

{{ table.title|underline('-') }}

{{ table.description or '' }}

.. raw:: html

   <ul>
     <li><b>Autorisatie:</b> {% if table.auth %}(autorisatie: {{ table.auth|sort|join(', ') }}){% else %}Geen, dit is openbare data.{% endif %}</a></li>
     <li><b>REST URI:</b> <a href="{{ table.uri }}">{{ table.uri|strip_base_url }}</a></li>
     <li><b>CSV Export:</b> {% if table.rest_csv %}<a type="text/csv" download href="{{ table.rest_csv }}">{{ table.rest_csv|strip_base_url }}</a>{% else %}N.B.{% endif %}</li>
     <li><b>GeoJSON Export:</b> {% if table.rest_geojson %}<a type="application/json" download href="{{ table.rest_geojson }}">{{ table.rest_geojson|strip_base_url }}</a>{% else %}N.B.{% endif %}</li>
   </ul>

De volgende velden zijn beschikbaar:

.. list-table::
   :header-rows: 1

   * - Veldnaam
     - Type
     - Omschrijving
{%- for field in table.fields %}
   * - {% if field.is_deprecated %}:deprecated:`{{ field.camel_name }}` *gaat vervallen*{% else %}``{{ field.camel_name }}``{% endif %}{% if field.auth %} (autorisatie: {{ field.auth|sort|join(', ') }}){% endif %}
     - {{ field.type|default('') }}{% if field.is_relation or field.is_foreign_id %} *relatie*{% elif field.is_identifier %} *identificatie*{% endif %}
     - {{ field.description|default('') }}
{%- endfor %}

De volgende query-parameters zijn te gebruiken:

.. list-table::
   :header-rows: 1

   * - Parameter
     - Mogelijke waarde
     - Werking
{%- for filter in table.filters %}
   * - {% if filter.is_deprecated %}:deprecated:`{{ filter.name }}=` *gaat vervallen*{% else %}``{{ filter.name }}=``{% endif %}{% if filter.auth %} (autorisatie: {{ filter.auth|sort|join(', ') }}){% endif %}
     - {{ filter.value_example|default('') }}
     - Test op exacte waarde (``==``).
  {%- for lookup in filter.lookups %}
   * - {% if filter.is_deprecated %}:deprecated:`{{ filter.name }}[{{ lookup.operator }}]=` *gaat vervallen*{% else %}``{{ filter.name }}[{{ lookup.operator }}]=``{% endif %}{% if filter.auth %} (autorisatie: {{ filter.auth|sort|join(', ') }}){% endif %}
     - {{ lookup.value_example or filter.value_example|default('') }}
     - {{ lookup.description }}
  {%- endfor %}
{%- endfor %}

{% if table.expands %}
Insluitbare relaties
~~~~~~~~~~~~~~~~~~~~

De volgende velden kunnen ingesloten worden met ``?_expandScope=...``:

.. list-table::
   :header-rows: 1

   * - Relatie
     - Tabel
     - Omschrijving
{%- for expand in table.expands: %}
   * - ``{{ expand.camel_name }}``
     - :ref:`{{ expand.relation_id }} <{{ expand.target_doc_id }}>`
     - {{ expand.related_table.description or '' }}
{%- endfor %}

Gebruik ``?_expand=true`` om alle relaties in te sluiten.

{% endif %}
{% endfor %}
